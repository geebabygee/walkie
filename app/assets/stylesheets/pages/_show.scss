@import url(https://fonts.googleapis.com/css?family=Lato:400,900);

$dark:#000;

//======= breakpoints
$tablet:40rem;

@mixin tablet {
  @media (max-width: #{$tablet}) {
    @content;
  }
}


//======= reset
*, *:before, *:after {
  margin:0;
  padding:0;
  box-sizing:border-box;
}


//======= global
html, body {
  width:100%;
  height:100%;
}

body {
  font-family: 'Lato', sans-serif;
  line-height:160%;
  font-size:100%;
  color:lighten($dark, 30%);
}

.group:after {
  content:"";
  display:table;
  clear:both;
}

.fullwidth {
  width:100%;
  padding-top:4rem;
  background-color:lighten($dark, 90%);
}


//======= timeline for centering
.timeline {
  width:100%;
  max-width:60rem;
  margin-right:auto;
  margin-left:auto;
  padding-right:2rem!important;;
  padding-bottom:4rem;
  padding-left:2rem !important;
  background-image:linear-gradient(lighten($dark, 60%), lighten($dark, 60%));
  background-size:2px 100%;
  background-position:50% 1rem;
  background-repeat:no-repeat;

  @include tablet {background-position:2rem 0;}
}


// every single month
.timeline .item {
  position:relative;
  display:block;
  width:50%;
  float:left;
  clear:both;
  margin-top:-1rem;

  @include tablet {
    width:100%;
    float:none;
    margin-top:0;
    margin-bottom:3rem;
  }

  // the circle on the timeline
  &:before {
    content:'';
    position:absolute;
    top:0.3rem;
    width:1rem;
    height:1rem;
    border:2px solid lighten($dark, 60%);
    border-radius:50%;
    background-color:lighten($dark, 90%);
  }
  // change background-color when hovered
  &:hover:before {background-color:lighten($dark, 60%);}
}

// the first month should not be lifted up
.timeline .item:first-child {margin-top:0;}

// every "odd" moth will be floated to the right
.timeline .item:nth-child(odd) {
  float:right;
  padding-left:2rem;
  &:before {left:-0.5rem;}
}

.timeline .item:nth-child(even) {
  padding-right:2rem;
  @include tablet {padding-right:0;padding-left:2rem;}

  &:before {
    right:-0.5rem;
    @include tablet {left:-0.5rem;}
  }
}

.timeline .item h2 {
  display:block;
  margin-bottom:1rem;
}

.timeline .item:nth-child(even) h2 {
  text-align:right;
  @include tablet {text-align:left;}
}


.center {
  margin: auto;
  width: 50%;
  padding: 20px;
}

 .buttons {
  font-size: 18px;
  margin-top: -22px;
  position: absolute;
}

.normal-button {
  font-size:18px;
  line-height: 2.1;
  align-content: center;
  cursor:pointer;
  width: 35px !important;
  height: 35px;
  border: none;
  padding: 4px 8px !important;


}

.go-button {
  font-size: 20px;
  cursor:pointer;
 width: 55px !important;
  height: 55px !important;
  align-content: center;
  border: none;

}

// fonts
$font-family-sans-serif:  'Montserrat', sans-serif;
$font-family-serif:       'Libre Baskerville', serif;
// colors
$blue-base: #092539;
$yellow-base: #dfa903;
$yellow-dark: #bcbb81;
$white: #fff;
$grey-bg: #f2f2f2;
$grey-text: #545454;
$grey-line: #dddddd;
$grey-circle: #7d7d7d;

*, *::after, *::before {
  // @include box-sizing(border-box);
}

html {
  font-size: 62.5%;
}

body {
  background: $grey-bg;
}

ul {
  list-style: none;
  padding-left: 0;
}

a {
  text-decoration: none;
}

h3 {
  font-size: 2.3rem;
  font-weight: 500;
  margin: 0;
  font-family: $font-family-serif;
  color: $grey-text;
}
::-moz-selection {
  color: $blue-base;
  background: $yellow-base;
}
::selection {
  color: $blue-base;
  background: $yellow-base;
}

.white-stripe {
  background: $white;
  text-align: center;
  padding: 35px 0;

  p {
    margin-bottom: 0;
  }
}

.white-stripe.arrow {
  position: relative;

  &::after{
    content: '';
    position: absolute;
    left: 50%;
    top: 100%;
    width: 0;
    height: 0;
    border-left: 20px solid transparent;
    border-right: 20px solid transparent;
    border-top: 20px solid $white;
    clear: both;
    margin-left: -20px;
    z-index: 10;
  }
}

.timeline {
  position: relative;
  padding: 100px 0;
  text-align: center;
  font-family: $font-family-sans-serif;

  .row {
    margin-bottom: 50px;
    @media only screen and (min-width:768px) {
      margin-bottom: 30px;
    }
  }

  &::before {
    /* this is the vertical line */
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    margin-left: -2px;
    height: 100%;
    width: 3px;
    background: $grey-line;
    z-index: -2;
  }

  .country-block {
    padding: 50px 0;
    font-size: 12px;
    text-transform: uppercase;
    color: $white;
    background: rgba($grey-text, .6);
    -moz-transition: all .5s;
    -webkit-transition: all .5s;
    transition: all .5s;

    i {
      content: '';
      background-position: center;
      background-size: 100%;
      background-repeat: no-repeat;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      -moz-transition: background-size .3s;
      -webkit-transition: background-size .3s;
      transition: background-size .3s;
    }

    i.jp {
      background-image: url('http://www.vasilis-tsirimokos.com/codepen/japan-small.jpg');
    }
    i.vt {
      background-image: url('http://www.vasilis-tsirimokos.com/codepen/vietnam-small.jpg');
    }
    i.cb {
      background-image: url('http://www.vasilis-tsirimokos.com/codepen/cambodia-small.jpg');
    }
    i.th {
      background-image: url('http://www.vasilis-tsirimokos.com/codepen/thailand-small.jpg');
    }
    i.ml {
      background-image: url('http://www.vasilis-tsirimokos.com/codepen/malaysia-small.jpg');
    }
    i.in {
      background-image: url('http://www.vasilis-tsirimokos.com/codepen/indonesia-small.jpg');
    }
    i.tr {
      background-image: url('http://www.vasilis-tsirimokos.com/codepen/turkey-small.jpg');
    }

    @media only screen and (min-width:768px) {
      width: 48%;
      margin-right: 2%;

      &::before, &::after {
        content:'';
        position: absolute;
        right: -1px;
        height: 50%;
        padding-left:3%;
        background: $grey-bg;
        -ms-transform-origin: 100% 0;
        -webkit-transform-origin: 100% 0;
        transform-origin: 100% 0;
      }
      &::before {
        bottom: 50%;
        -ms-transform: skewY(45deg);
        -webkit-transform: skewY(45deg);
        transform: skewY(45deg);
      }
      &::after {
        top: 50%;
        -ms-transform: skewY(-45deg);
        -webkit-transform: skewY(-45deg);
        transform: skewY(-45deg);
      }
      &.reverse {
        margin-left: 2%;
        margin-right: 0;
      }
      &.reverse::before, &.reverse::after {
        left: -1px;
        right: auto;
        -ms-transform-origin: 0 100%;
        -webkit-transform-origin: 0 100%;
        transform-origin: 0 100%;
      }
      &.reverse::before {
        bottom: 50%;
        -ms-transform: skewY(-45deg);
        -webkit-transform: skewY(-45deg);
        transform: skewY(-45deg);
      }
      &.reverse::after {
        top: 50%;
        -ms-transform: skewY(45deg);
        -webkit-transform: skewY(45deg);
        transform: skewY(45deg);
      }
    }
  }

  a:hover, a:focus {
    text-decoration: none;
  }

  a:hover .country-block {
    background: rgba($blue-base, .7);
    color: $yellow-base;
    i {
      background-size: 110%;
    }
  }

  .date-block {
    >div {
      position: relative;
      font-family: $font-family-serif;
      background-color: $white;
      padding: 10px 30px 10px 30px;
      border: 2px solid $grey-circle;
      display: inline-block;
      margin-top: 15px;
      @media only screen and (min-width: 768px) {
        margin-top: 50px;
      }
    }

    @media only screen and (min-width: 768px) {
      &::before {
        content:'';
        position: absolute;
        top: 60px;
        left: -10px;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        border: 4px solid $grey-circle;
        background: $grey-bg;
        box-shadow: 0 0 0 5px $grey-bg;
        z-index: 10;
      }
      &::after {
        content:'';
        position: absolute;
        top: 70px;
        left: 0;
        width: 50%;
        height: 3px;
        background: $grey-line;
        z-index: -1;
      }
      &.reverse::before {
        right: -10px;
        left: auto;
      }

      &.reverse::after {
        right: 0;
        left: auto;
      }
    }
  }
}
